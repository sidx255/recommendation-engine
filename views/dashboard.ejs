<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Recommendation Engine</title>
  </head>
  <link rel="stylesheet" href="/css/dashboard_style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <body>
    <nav id="navbar" class="navbar navbar-dark bg-dark">
        <a class="navbar-brand" href="#">
          <img src="/images/logo.jpg" alt="" width="130px">
        </a>
    </nav>
    <div class="container">
      <div class="imgSpace">
        <img class="animImg" src="/images/anim.PNG" alt="">
        <h3>RECOMMENDATION ENGINE</h3>
        <form action="/" class="searchForm" method="POST" onkeypress="return event.keyCode != 13">
          <div class="row mb-3">
            <label for="searchValue" class="col-sm-2 col-form-label">SEARCH QUERY: </label>
            <div class="col-sm-10">
              <div class="input-group">
                <input id="searchValue" type="text" class="form-control" name="searchValue" value="" placeholder="Write the search query here...">
                <button onclick="" type="submit" id="search_button" class="btn btn-outline-secondary">SEARCH</button>
              </div>
            </div>
          </div>
        </form>
      </div>
      <% if(result!=""){ %>
        <div class="resultDisplay">
          <p>RESULTS: Recommendations for <%= query %><br>Number of recommendations received: <b><%= result.recommendations.length-1 %></b></p>
          <div id="recomTable">
            <table id="recTable">
              <!-- Recommendations here -->
            </table>
          </div>
          <div id="statsTable">
            <table class="stats table table-bordered">
              <tr>
                <td>Precision</td>
                <td>Recall</td>
              </tr>
              <tr>
                <th><%= precision %></th>
                <th><%= recall %></th>
              </tr>
            </table>
          </div>
        </div>
      <% } %>
    </div>
    <div class="footerDiv">
      <p class="footer">Made by Team HackOverflow</p>
    </div>
  </body>
  <script>
    var result = <%- JSON.stringify(result) %>;
  </script>
  <script type="text/javascript" src="/js/client.js"></script>
</html>
